### 프로젝트명: Ping Pong

팀원 수: 2명<br>
개발 기간: 5일<br>
나의 역할: 아이디어, 디자인, 코딩, PPT 작성, 대본 작성

사용 언어: **C++**<br>
사용 라이브러리: **MFC**<br>
사용 툴: Visual Studio 2012(교내), 2015(집)

### 프로그램 설명
<img src="https://github.com/zxc3824/16.1.2-PP/blob/master/etc/PP1.png" width=50%><img src="https://github.com/zxc3824/16.1.2-PP/blob/master/etc/PP2.png" width=50%>
- 도스버전 컨셉의 2인용 핑퐁(흑백 화면, 도트 느낌의 폰트(silkscreen))
- 시작 전 속도 조절이 가능함
- 11점을 얻은 쪽이 승리
- F1으로 조작키 확인 가능
- 여담
  - 자바 gui 수업에서 핑퐁이 가능할 것 같아 Java로 먼저 기본 시스템을 만들고, 이후 MFC 형태로 작성 및 기능 추가
  - 코드를 모두 View 파일 하나에 몰아넣음

### 동작 과정
1. A/D 또는 좌우 화살표 키로 속도 설정 후 스페이스 바로 게임 시작
2. W/S 또는 위아래 화살표 키로 라켓을 이동
3. 첫 시작 시 랜덤한 방향으로 공이 이동하고 라켓에 닿으면 반대 방향으로 이동<br>
라켓이 닿았을 때의 위치에 따라서 공이 날아가는 각도가 변함
4. 좌우의 끝에 공이 닿을 시 반대편의 점수가 오르고 일시정지
5. 스페이스 바를 누르면 다시 시작하고, 점수를 잃은 쪽으로 공이 이동
6. 11점 획득 시 승리 메시지 표시와 함께 일시정지. 아무 키나 누르면 첫 화면으로 이동

### 주요 기능
- 공, 라켓 이동
  - OnInitialUpdate 함수 내의 SetTimer 함수에 지정한 시간마다(0.01s) 게임 시작 전에 정해둔 속도 수치만큼 위치 변경<br>
  (공: 좌우, 라켓: 위아래)
  - 공은 라켓에 닿은 경우 그 위치에 따라 공의 위아래 속도가 변화
  - 게임 시작 상태가 아닐 땐 움직이지 않음
- 점수
  - 게임 도중 상태일 시 점수를 지속적으로 화면에 표시
  - 공이 화면의 왼쪽 혹은 오른쪽 끝에 닿은 경우 한 쪽의 점수를 증가시키고 게임 정지 상태로 변경
  - 어느 한 쪽이 지정한 점수를 만족했는지를 체크해서 맞으면 메시지 출력 후 리턴
- 게임 상태
  - 첫 게임 시작 시 게임 시작, 게임 도중 여부를 모두 true로 변경
  - 점수가 오를 시 게임 시작 여부를 false로 변경
  - 어느 한 쪽이 승리했을 때 아무 키나 누를 경우 게임 도중 여부를 false로 변경후 점수와 속도를 초기화<br>
  (시작할 때 설정한 속도는 그대로 유지)
  - 게임 시작 상태가 false인 경우 공 속도를 초기화
  - 게임 도중 상태가 false인 경우 시작 메뉴를 표시

### 겪었던 문제(기술)
- 게임이 끝났을 때 경우에 따라서 속도가 최저치로 바뀜
  - 게임 속도와 공의 x속도를 하나의 변수로 통일했더니 게임이 끝날 때 음수 속도인 경우 최저치로 변경됨
  - 게임 속도와 공의 x속도를 별도의 변수로 나누는 것으로 해결
- 공 속도가 빠르면 라켓이나 위아래 벽에 갇힘
  - 공 속도를 부딪힐 때 반대로 바꾸게 했더니 충돌 판정이 2프레임 연속으로 일어나는 경우(라켓의 옆면에 닿음) 계속 제자리에서 왔다갔다 함
  - y속도는 y위치가 가장 위일 때는 절대치로, 가장 아래일 때는 -절대치로 변경하고<br>
  x속도는 왼쪽 라켓에 부딪히면 절대치로, 오른쪽 라켓에 부딪히면 -절대치로 변경해서 해결

---

### 잡담 겸 소감
- 다른 프로젝트가 거의 끝나갈 쯤에 시작한 프로젝트이다.<br>
아마 일부는 나와 같은 상황이었던 것으로 기억한다.<br>
다른 프로젝트 결과물을 그대로 쓸 까 생각하다가<br>
운 좋게 아이디어랑 컨셉이 떠올라 금방 해결됐다.<br>
다른 프로젝트에 정신이 팔린 터라 대충 만들었다.<br>
귀찮아서 기능도 간단하게 정하고<br>
코드도 파일 하나에 모두 몰아넣었다.<br>
그래서 만들면서도 괜찮을까 싶었지만<br>
결과물이 컨셉대로 잘 나와줘서 만족스러웠고<br>
무엇보다 간단하게 시작하고 금방 끝나서 좋았다.<br>
괜시리 앞으로도 이러면 얼마나 좋을까 생각해본다.
